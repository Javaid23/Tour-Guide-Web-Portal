import{j as e}from"./index-Cu-NLfXN.js";import{u as s,d as t,r as i}from"./router-Dd4lY5Dn.js";import{B as l}from"./BookingForm-33JU-Fea.js";import"./vendor-Z2Iecplj.js";import"./icons-D1SVnQiw.js";import"./api-CQ5h52SX.js";const n=()=>{const n=s(),{id:r}=t(),[a,c]=i.useState(null),[o,d]=i.useState(!0),[x,m]=i.useState(null),[h,j]=i.useState(!1);if(i.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"});(async()=>{try{d(!0),m(null);const e=await fetch(`https://tour-guide-web-portal.onrender.com/api/destinations/${r}`),s=await e.json();e.ok&&s.destinations?c(s.destinations):e.ok&&s?c(s):m(s.error||"Destination not found")}catch(e){m("Failed to fetch destination details")}finally{d(!1)}})()},[r]),o)return e.jsx("div",{className:"p-8 text-center",children:"Loading..."});if(x)return e.jsx("div",{className:"p-8 text-center text-red-500",children:x});if(!a)return e.jsx("div",{className:"p-8 text-center",children:"No details found."});const g=Array.isArray(a)?a[0]:a;return e.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:g.images&&g.images.length>0?g.images.slice(0,4).map((s,t)=>e.jsx("img",{src:s.url,alt:s.caption||g.name,className:"w-full h-64 object-cover rounded-xl",style:{objectPosition:"center top"}},t)):e.jsx("div",{className:"w-full h-64 bg-gray-200 flex items-center justify-center rounded-xl text-gray-400",children:"No Image"})}),e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4 gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:g.name}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-gray-600 text-sm",children:[e.jsxs("span",{children:[e.jsx("strong",{children:"Category:"})," ",g.category]}),e.jsxs("span",{children:[e.jsx("strong",{children:"Location:"})," ",g.location?.city,", ",g.location?.state]}),e.jsxs("span",{children:[e.jsx("strong",{children:"Duration:"})," ",g.duration?.days||"N/A"," days"]}),e.jsxs("span",{children:[e.jsx("strong",{children:"Max Group Size:"})," ",g.maxGroupSize||"N/A"]}),e.jsxs("span",{children:[e.jsx("strong",{children:"Rating:"})," ",g.rating?.average?.toFixed(1)||"N/A"," (",g.rating?.count||0," reviews)"]})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Overview"}),e.jsx("p",{className:"text-gray-700",children:g.description})]}),g.highlights&&g.highlights.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Highlights"}),e.jsx("ul",{className:"list-disc pl-6 text-gray-700",children:g.highlights.map((s,t)=>e.jsx("li",{children:s},t))})]}),g.facilities&&g.facilities.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"What's Included"}),e.jsx("ul",{className:"list-disc pl-6 text-gray-700",children:g.facilities.map((s,t)=>e.jsx("li",{children:s},t))})]}),g.itinerary&&g.itinerary.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Itinerary"}),e.jsx("ul",{className:"list-decimal pl-6 text-gray-700",children:g.itinerary.map((s,t)=>e.jsx("li",{children:s},t))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Reviews"}),e.jsx("div",{className:"text-gray-500",children:"Reviews coming soon."})]}),e.jsx("div",{className:"flex flex-col items-center mb-8",children:e.jsxs("div",{className:"flex flex-row gap-4 w-full justify-center items-end",children:[e.jsx("div",{className:"flex flex-col items-center",style:{width:"180px"},children:e.jsx("button",{className:"w-full h-12 px-5 py-3 rounded-lg font-semibold text-base shadow transition bg-gray-100 hover:bg-gray-200 text-gray-700 flex items-center justify-center",style:{letterSpacing:1,fontSize:"1.1rem",textAlign:"center"},onClick:()=>n(-1),children:e.jsxs("span",{className:"flex items-center justify-center w-full",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 mr-2",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),e.jsx("span",{children:"Back"})]})})}),e.jsxs("div",{className:"flex flex-col items-center",style:{width:"180px"},children:[e.jsxs("div",{className:"text-2xl font-bold text-green-700 mb-2 ml-2",children:["$ ",g.price?.toLocaleString()||"N/A"," ",e.jsx("span",{className:"text-base font-normal text-gray-500",children:"per person"})]}),e.jsx("button",{className:"w-full h-12 px-5 py-3 rounded-lg font-semibold text-base shadow transition bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-800 text-white flex items-center justify-center",style:{letterSpacing:1,fontSize:"1.1rem"},onClick:()=>j(!0),children:"Book Now"})]})]})}),e.jsx(l,{tour:g,isOpen:h,onClose:()=>j(!1),onSubmit:()=>j(!1)})]})};export{n as default};
