import{j as e}from"./index-Cu-NLfXN.js";import{r as s,U as t,u as r,d as i}from"./router-Dd4lY5Dn.js";import{h as a,c as l,D as n,W as o,E as c,T as d,i as m,j as x,e as h,k as p,U as u,g,H as b,l as y}from"./icons-D1SVnQiw.js";import{r as j,t as f}from"./api-CQ5h52SX.js";import{B as v}from"./BookingForm-33JU-Fea.js";import"./vendor-Z2Iecplj.js";const N=({destination:t,coordinates:r})=>{const[i,h]=s.useState(null),[p,u]=s.useState(!0),[g,b]=s.useState(null);s.useEffect(()=>{y()},[t]);const y=async()=>{try{u(!0);const e=j(t);setTimeout(()=>{h(e),u(!1)},1e3)}catch(e){b("Failed to fetch weather data"),u(!1)}},j=e=>{const s={"Hunza Valley":{current:{temperature:18,condition:"Partly Cloudy",humidity:45,windSpeed:8,visibility:15,feelsLike:20},forecast:[{date:"Today",maxTemp:22,minTemp:12,condition:"Sunny",precipitation:0},{date:"Tomorrow",maxTemp:20,minTemp:10,condition:"Partly Cloudy",precipitation:10},{date:"Day 3",maxTemp:18,minTemp:8,condition:"Cloudy",precipitation:20},{date:"Day 4",maxTemp:16,minTemp:6,condition:"Light Rain",precipitation:60}],bestTime:"April to October (Spring to Autumn)",seasonalTips:"Perfect weather for trekking and sightseeing. Cherry blossoms in April!"},Lahore:{current:{temperature:28,condition:"Sunny",humidity:65,windSpeed:12,visibility:8,feelsLike:32},forecast:[{date:"Today",maxTemp:32,minTemp:22,condition:"Sunny",precipitation:0},{date:"Tomorrow",maxTemp:34,minTemp:24,condition:"Hot",precipitation:0},{date:"Day 3",maxTemp:30,minTemp:20,condition:"Partly Cloudy",precipitation:5},{date:"Day 4",maxTemp:28,minTemp:18,condition:"Cloudy",precipitation:15}],bestTime:"November to March (Winter)",seasonalTips:"Visit during winter months for pleasant weather. Summer can be very hot!"},Skardu:{current:{temperature:15,condition:"Clear",humidity:35,windSpeed:6,visibility:20,feelsLike:17},forecast:[{date:"Today",maxTemp:20,minTemp:8,condition:"Clear",precipitation:0},{date:"Tomorrow",maxTemp:22,minTemp:10,condition:"Sunny",precipitation:0},{date:"Day 3",maxTemp:18,minTemp:6,condition:"Partly Cloudy",precipitation:5},{date:"Day 4",maxTemp:16,minTemp:4,condition:"Cloudy",precipitation:10}],bestTime:"May to September (Summer)",seasonalTips:"Ideal for K2 expeditions and lake visits. Clear mountain views expected!"},Karachi:{current:{temperature:26,condition:"Partly Cloudy",humidity:75,windSpeed:15,visibility:12,feelsLike:29},forecast:[{date:"Today",maxTemp:30,minTemp:24,condition:"Partly Cloudy",precipitation:10},{date:"Tomorrow",maxTemp:28,minTemp:22,condition:"Cloudy",precipitation:20},{date:"Day 3",maxTemp:32,minTemp:26,condition:"Sunny",precipitation:0},{date:"Day 4",maxTemp:29,minTemp:23,condition:"Partly Cloudy",precipitation:15}],bestTime:"November to February (Winter)",seasonalTips:"Sea breeze provides relief. Great for beach activities and city exploration!"}};return s[e]||s["Hunza Valley"]},f=s=>s.includes("Sunny")||s.includes("Clear")?e.jsx(m,{size:16,style:{color:"#f59e0b"}}):s.includes("Rain")?e.jsx(x,{size:16,style:{color:"#3b82f6"}}):s.includes("Hot")?e.jsx(m,{size:16,style:{color:"#ef4444"}}):e.jsx(a,{size:16,style:{color:"#6b7280"}});return p?e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-content",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[e.jsx(a,{size:20,style:{color:"#64748b"}}),e.jsx("h3",{style:{fontSize:"1.1rem",margin:0},children:"Weather"})]}),e.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid #e2e8f0",borderTop:"3px solid var(--primary-blue)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 12px"}}),e.jsx("p",{style:{color:"#64748b",fontSize:"14px"},children:"Loading weather data..."})]})]})}):g?e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-content",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[e.jsx(a,{size:20,style:{color:"#64748b"}}),e.jsx("h3",{style:{fontSize:"1.1rem",margin:0},children:"Weather"})]}),e.jsx("p",{style:{color:"#ef4444",fontSize:"14px",textAlign:"center"},children:g})]})}):e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-content",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"20px"},children:[e.jsx(l,{size:20,style:{color:"var(--primary-blue)"}}),e.jsxs("h3",{style:{fontSize:"1.1rem",margin:0},children:["Weather in ",t]})]}),e.jsxs("div",{style:{marginBottom:"20px",padding:"20px",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[e.jsxs("div",{className:"flex-between mb-3",children:[e.jsxs("div",{className:"flex",style:{alignItems:"center",gap:"12px"},children:[(v=i.current.condition,v.includes("Sunny")||v.includes("Clear")?e.jsx(m,{size:24,style:{color:"#f59e0b"}}):v.includes("Rain")?e.jsx(x,{size:24,style:{color:"#3b82f6"}}):v.includes("Hot")?e.jsx(m,{size:24,style:{color:"#ef4444"}}):e.jsx(a,{size:24,style:{color:"#6b7280"}})),e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#1e293b"},children:[i.current.temperature,"Â°C"]}),e.jsxs("div",{style:{fontSize:"14px",color:"#64748b"},children:["Feels like ",i.current.feelsLike,"Â°C"]})]})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#374151"},children:i.current.condition}),e.jsx("div",{style:{fontSize:"12px",color:"#64748b"},children:(new Date).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})})]})]}),e.jsxs("div",{className:"grid grid-3",style:{gap:"16px",fontSize:"13px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px",background:"white",borderRadius:"8px"},children:[e.jsx(n,{size:16,style:{color:"#3b82f6"}}),e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:"600"},children:[i.current.humidity,"%"]}),e.jsx("div",{style:{color:"#64748b",fontSize:"11px"},children:"Humidity"})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px",background:"white",borderRadius:"8px"},children:[e.jsx(o,{size:16,style:{color:"#10b981"}}),e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:"600"},children:[i.current.windSpeed," km/h"]}),e.jsx("div",{style:{color:"#64748b",fontSize:"11px"},children:"Wind"})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px",background:"white",borderRadius:"8px"},children:[e.jsx(c,{size:16,style:{color:"#8b5cf6"}}),e.jsxs("div",{children:[e.jsxs("div",{style:{fontWeight:"600"},children:[i.current.visibility," km"]}),e.jsx("div",{style:{color:"#64748b",fontSize:"11px"},children:"Visibility"})]})]})]})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h4",{style:{fontSize:"1rem",marginBottom:"12px",color:"#374151"},children:"4-Day Forecast"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:i.forecast.map((s,t)=>e.jsxs("div",{className:"flex-between",style:{padding:"12px 16px",background:0===t?"#eff6ff":"white",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1},children:[e.jsx("span",{style:{fontSize:"14px",fontWeight:0===t?"600":"500",minWidth:"70px",color:0===t?"var(--primary-blue)":"#374151"},children:s.date}),f(s.condition),e.jsx("span",{style:{fontSize:"13px",color:"#64748b"},children:s.condition})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.precipitation>0&&e.jsxs("span",{style:{fontSize:"12px",color:"#3b82f6",background:"#dbeafe",padding:"2px 6px",borderRadius:"4px"},children:[s.precipitation,"%"]}),e.jsxs("span",{style:{fontSize:"14px",fontWeight:"600"},children:[s.maxTemp,"Â°/",s.minTemp,"Â°"]})]})]},t))})]}),e.jsxs("div",{style:{padding:"16px",background:"linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%)",borderRadius:"10px",border:"1px solid #10b981"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx(d,{size:16,style:{color:"#059669"}}),e.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"#059669"},children:"Best Time to Visit"})]}),e.jsx("p",{style:{fontSize:"13px",color:"#065f46",margin:"0 0 8px 0",fontWeight:"500"},children:i.bestTime}),e.jsxs("p",{style:{fontSize:"12px",color:"#047857",margin:0},children:["ðŸ’¡ ",i.seasonalTips]})]})]}),e.jsx("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]});var v},w=({tourId:t})=>{const[r,i]=s.useState(!1),[a,l]=s.useState([]),[n,o]=s.useState(!0),[c,d]=s.useState({rating:5,comment:"",travelDate:""}),{isAuthenticated:m,user:x}=(()=>{const[e,t]=s.useState(null),[r,i]=s.useState(!0);return s.useEffect(()=>{const e=localStorage.getItem("user");if(e)try{t(JSON.parse(e))}catch(p){localStorage.removeItem("user")}i(!1)},[]),{user:e,isLoading:r,isAuthenticated:!!e,logout:()=>{localStorage.removeItem("user"),t(null),window.location.reload()}}})(),[p,u]=s.useState(""),[g,b]=s.useState(!1),[y,f]=s.useState(!1);s.useEffect(()=>{v()},[t]);const v=async()=>{try{console.log("ðŸ” Fetching reviews for tour ID:",t),o(!0);const e=await j.getTourReviews(t);console.log("âœ… Reviews API response:",e),Array.isArray(e)?l(e):e&&Array.isArray(e.reviews)?l(e.reviews):e&&Array.isArray(e.data)?l(e.data):(console.warn("âš ï¸ Reviews data is not an array:",e),l([])),o(!1)}catch(e){console.error("âŒ Error fetching reviews:",e),l([]),o(!1)}};return e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-blue-900",children:"Reviews"}),m?e.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors",onClick:()=>i(!r),children:r?"Cancel":"Write a Review"}):e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("a",{href:"/auth",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Login"})," to write a review"]})]}),r&&e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),u(""),b(!1),f(!0),console.log("ðŸ”„ Submitting review:",{tourId:t,newReview:c,user:x}),console.log("ðŸ”‘ Authentication status:",{isAuthenticated:m,user:x}),console.log("ðŸ”‘ Token in localStorage:",localStorage.getItem("token")?"EXISTS":"MISSING"),!m||!x)return u("Please log in to submit a review"),void f(!1);if(c.comment.length<10)return u("Comment must be at least 10 characters long"),void f(!1);if(!c.travelDate)return u("Please select when you traveled"),void f(!1);const s=new Date(c.travelDate),r=new Date;if(r.setHours(23,59,59,999),s>r)return u("Travel date cannot be in the future"),void f(!1);try{const e={tour:t,rating:parseInt(c.rating),comment:c.comment.trim(),travelDate:c.travelDate};console.log("ðŸ“¤ Review data being sent:",e),await j.createReview(e),console.log("âœ… Review submitted successfully"),window.dispatchEvent(new CustomEvent("reviewCreated",{detail:{tourId:t,reviewData:e}})),b(!0),d({rating:5,comment:"",travelDate:""}),v(),setTimeout(()=>{i(!1),b(!1)},2e3)}catch(a){console.error("âŒ Review submission error:",a),console.error("âŒ Error response data:",a.response?.data),console.error("âŒ Error status:",a.response?.status),console.error("âŒ Full error object:",JSON.stringify(a,null,2)),401===a.response?.status?u("Please log in to submit a review"):400===a.response?.status?u(a.response.data?.message||"Invalid review data"):500===a.response?.status?u("Server error - please try again later"):u(a.message||"Failed to submit review")}finally{f(!1)}},className:"mb-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:"Your Rating:"}),[1,2,3,4,5].map(s=>e.jsx("button",{type:"button",onClick:()=>d(e=>({...e,rating:s})),style:{background:"none",border:"none",padding:0,cursor:"pointer",outline:"none"},"aria-label":`Rate ${s} star${s>1?"s":""}`,children:e.jsx(h,{size:28,className:c.rating>=s?"text-yellow-400":"text-gray-300",style:{transition:"color 0.2s",color:c.rating>=s?"#fbbf24":"#d1d5db",filter:c.rating>=s?"drop-shadow(0 0 4px #fbbf24)":"none",transform:c.rating===s?"scale(1.2)":"scale(1)"}})},s))]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"When did you travel?"}),e.jsx("input",{type:"date",className:"border rounded-lg p-2 w-full",required:!0,max:(new Date).toISOString().split("T")[0],value:c.travelDate,onChange:e=>d(s=>({...s,travelDate:e.target.value}))})]}),e.jsx("textarea",{className:"w-full border rounded-lg p-2",rows:3,required:!0,minLength:10,placeholder:"Share your experience... (at least 10 characters)",value:c.comment,onChange:e=>d(s=>({...s,comment:e.target.value}))}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Character count: ",c.comment.length,"/1000 (minimum 10)"]}),p&&e.jsx("div",{className:"text-red-600 bg-red-50 p-2 rounded border",children:p}),g&&e.jsx("div",{className:"text-green-600 bg-green-50 p-2 rounded border",children:"Review submitted successfully!"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"submit",disabled:y||c.comment.length<10,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-6 py-2 rounded-lg font-semibold transition-colors",children:y?"Submitting...":"Submit Review"}),e.jsx("button",{type:"button",onClick:()=>i(!1),disabled:y,className:"bg-gray-300 hover:bg-gray-400 disabled:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-semibold transition-colors",children:"Cancel"})]})]}),n?e.jsx("div",{children:"Loading reviews..."}):e.jsxs("ul",{className:"space-y-4",children:[(!a||!Array.isArray(a)||0===a.length)&&e.jsx("li",{className:"text-gray-500",children:"No reviews yet."}),Array.isArray(a)&&a.map((s,t)=>e.jsxs("li",{className:"border-b pb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold",children:s.user?.name||"Anonymous"}),e.jsx("span",{className:"flex items-center text-yellow-500",children:[...Array(s.rating)].map((s,t)=>e.jsx(h,{size:16},t))}),e.jsx("span",{className:"text-gray-400 text-xs ml-2",children:s.createdAt?new Date(s.createdAt).toLocaleDateString():""})]}),e.jsx("div",{children:s.comment})]},s._id||t))]})]})};class S extends t.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,s){console.error("ErrorBoundary caught an error:",e,s),this.setState({error:e,errorInfo:s})}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-red-100",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center p-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ’¥"}),e.jsx("h2",{className:"text-3xl font-bold text-red-700 mb-4",children:"Something went wrong!"}),e.jsx("p",{className:"text-red-600 mb-6",children:"The component crashed unexpectedly."}),this.props.showDetails&&this.state.error&&e.jsxs("details",{className:"mb-6 text-left bg-white p-4 rounded-lg border",children:[e.jsx("summary",{className:"cursor-pointer font-semibold text-gray-700 mb-2",children:"Error Details"}),e.jsxs("pre",{className:"text-sm text-red-600 whitespace-pre-wrap overflow-auto max-h-40",children:[this.state.error.toString(),this.state.errorInfo.componentStack]})]}),e.jsxs("div",{className:"space-x-4",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Reload Page"}),e.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:"Go Back"})]})]})}):this.props.children}}const T=()=>{const t=r();s.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[]);const{id:a}=i(),[n,o]=s.useState(null),[c,d]=s.useState(!0),[m,x]=s.useState(null),[j,T]=s.useState(0),[k,I]=s.useState(!1);console.log("ðŸ”§ TourDetails component starting..."),console.log("ðŸ†” Tour ID from params:",a),console.log("ðŸ†” useParams() result:",i()),s.useEffect(()=>{console.log("ðŸ”„ useEffect triggered with ID:",a),sessionStorage.clear(),z()},[a]);const z=async()=>{try{if(console.log("ðŸ” Fetching tour details for ID:",a),console.log("ðŸ” ID type:",typeof a,"ID value:",a),console.log("ðŸ” API base URL:","https://tour-guide-web-portal.onrender.com/api"),d(!0),x(null),!a||"undefined"===a||"null"===a)throw new Error("Invalid tour ID");console.log("ðŸ§ª Testing API connectivity...");try{const e="https://tour-guide-web-portal.onrender.com/api",s=await fetch(`${e}/tours?limit=1`);if(console.log("ðŸ§ª API test response status:",s.status),!s.ok)throw new Error(`API not reachable: ${s.status}`)}catch(e){throw console.error("ðŸš¨ API connectivity test failed:",e),new Error("Backend server is not responding")}console.log("ðŸ“¡ Calling tourAPI.getTour...");const s=await f.getTour(a);if(console.log("âœ… Raw API response:",s),!s)throw new Error("No response from server");if(!s.success)throw new Error(s.message||"Server returned error");if(!s.data)throw new Error("No tour data in response");console.log("âœ… Setting tour data:",s.data),o(s.data),d(!1)}catch(s){console.error("âŒ Error fetching tour details:",s),console.error("âŒ Error stack:",s.stack),x(s.message||"Failed to load tour details"),d(!1)}},D=e=>e?"string"==typeof e?e:"object"==typeof e&&e.url?e.url:null:null;if(c)return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mb-4"}),e.jsx("span",{className:"ml-4 text-blue-700 font-semibold text-lg",children:"Loading tour details..."})]});if(m)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-red-100",children:e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"âŒ"}),e.jsx("h2",{className:"text-2xl font-bold text-red-700 mb-4",children:"Error Loading Tour"}),e.jsx("p",{className:"text-red-600 mb-6",children:m}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Try Again"})]})});if(!n)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100",children:e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ”"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-700 mb-4",children:"Tour Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The tour you're looking for doesn't exist."}),e.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Go Back"})]})});const{title:C,description:A,category:R,duration:E,price:P,originalPrice:L,maxGroupSize:W,difficulty:B,rating:F,location:H,images:G=[],highlights:O=[],itinerary:V=[],bestTimeToVisit:$,whatToBring:M=[],cancellationPolicy:q,groupDiscounts:J,meetingPoint:K,inclusions:U=n.inclusions||n.included||[],exclusions:X=n.exclusions||[]}=n;console.log("ðŸŽ¨ About to render TourDetails JSX"),console.log("ðŸŽ¨ Tour data for rendering:",{title:C,images:G?.length,price:P,location:H});try{return e.jsx(S,{showDetails:!0,children:e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-white min-h-screen",children:[e.jsx("div",{className:"max-w-6xl mx-auto px-4 pt-6",children:e.jsxs("button",{className:"mb-4 px-4 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold flex items-center",onClick:()=>t(-1),style:{display:"inline-flex",alignItems:"center"},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 mr-2",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),"Back"]})}),e.jsx(v,{tour:n,isOpen:k,onClose:()=>I(!1),onSubmit:()=>I(!1)}),e.jsx("div",{className:"relative w-full max-w-6xl mx-auto pt-8",children:e.jsxs("div",{className:"rounded-3xl overflow-hidden shadow-2xl relative h-[350px] md:h-[500px] bg-gray-200",children:[G.length>0&&e.jsx("img",{src:D(G[j]),alt:C,className:"w-full h-full object-cover transition-all duration-500"}),G.length>1&&e.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 bg-white/60 rounded-full px-4 py-2 shadow-lg",children:G.slice(0,6).map((s,t)=>e.jsx("img",{src:D(s),alt:C,className:"w-14 h-14 object-cover rounded-xl border-2 cursor-pointer transition-all duration-200 "+(j===t?"border-blue-600":"border-white hover:border-blue-400"),onClick:()=>T(t)},t))})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-10 grid grid-cols-1 lg:grid-cols-3 gap-10",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("div",{className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-2 text-blue-900",children:C}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-gray-600 text-base items-center",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(l,{size:18,className:"mr-1"})," ",H?.city,", ",H?.province]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(p,{size:18,className:"mr-1"})," ",E?.days||"N/A"," days"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(u,{size:18,className:"mr-1"})," ",W||"N/A"," people"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(h,{size:18,className:"mr-1 text-yellow-400"})," ",F?.average?.toFixed(1)||"New"," (",F?.count||0," reviews)"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(g,{size:18,className:"mr-1"})," ",B||"All Levels"]})]})]})}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex gap-4 border-b border-blue-100 mb-4",children:[e.jsx("button",{className:"tab-btn",children:"Overview"}),e.jsx("button",{className:"tab-btn",children:"Itinerary"}),e.jsx("button",{className:"tab-btn",children:"Inclusions"}),e.jsx("button",{className:"tab-btn",children:"Exclusions"}),e.jsx("button",{className:"tab-btn",children:"Meeting Point"}),e.jsx("button",{className:"tab-btn",children:"FAQs"}),e.jsx("button",{className:"tab-btn",children:"Reviews"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Overview"}),e.jsx("p",{className:"text-gray-700 text-lg leading-relaxed",children:A}),O&&O.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Highlights"}),e.jsx("ul",{className:"list-disc pl-6 text-gray-700 grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2",children:O.map((s,t)=>e.jsx("li",{children:s},t))})]})]}),V&&V.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Itinerary"}),e.jsx("ul",{className:"list-decimal pl-6 text-gray-700 space-y-2",children:V.map((s,t)=>e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:s.day?`Day ${s.day}: `:""}),s.title&&e.jsxs("span",{className:"font-semibold",children:[s.title," - "]}),s.description]},t))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"What's Included"}),e.jsx("ul",{className:"list-disc pl-6 text-gray-700",children:U.map((s,t)=>e.jsx("li",{children:s},t))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"What's Not Included"}),e.jsx("ul",{className:"list-disc pl-6 text-gray-700",children:X.map((s,t)=>e.jsx("li",{children:s},t))})]})]}),K&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Meeting Point"}),e.jsx("p",{className:"text-gray-700",children:K})]}),q&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Cancellation Policy"}),e.jsx("p",{className:"text-gray-700 text-sm",children:q})]}),M&&M.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"What to Bring"}),e.jsx("ul",{className:"list-disc pl-6 text-gray-700",children:M.map((s,t)=>e.jsx("li",{children:s},t))})]}),J&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Group Discounts"}),e.jsx("p",{className:"text-gray-700",children:J})]})]}),e.jsx("div",{className:"mb-8",children:e.jsx(w,{tourId:n._id})})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"sticky top-24",children:[e.jsxs("div",{className:"bg-white/90 backdrop-blur-xl p-6 rounded-3xl shadow-2xl mb-6 border-t-4 border-blue-500",children:[e.jsxs("div",{className:"flex justify-between items-baseline mb-4",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-3xl font-bold text-blue-900",children:["$ ",P?.toLocaleString()||"N/A"]}),e.jsx("span",{className:"text-gray-600",children:" / person"})]}),L&&e.jsxs("span",{className:"text-lg text-gray-500 line-through",children:["$ ",L.toLocaleString()]})]}),e.jsx("button",{onClick:()=>I(!k),className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 text-white font-bold py-3 rounded-xl hover:from-blue-700 hover:to-blue-800 transition duration-300 text-lg shadow",children:k?"Hide Booking Form":"Book Now"}),e.jsxs("div",{className:"flex justify-center mt-4 space-x-4",children:[e.jsxs("button",{className:"flex items-center text-gray-600 hover:text-blue-600",children:[e.jsx(b,{size:20,className:"mr-2"}),"Save"]}),e.jsxs("button",{className:"flex items-center text-gray-600 hover:text-blue-600",children:[e.jsx(y,{size:20,className:"mr-2"}),"Share"]})]})]}),e.jsx(N,{city:H?.city}),e.jsxs("div",{className:"bg-white/90 backdrop-blur-xl p-6 rounded-3xl shadow-xl mt-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Good to Know"}),e.jsxs("div",{className:"space-y-4",children:[$&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700",children:"Best Time to Visit"}),e.jsx("p",{className:"text-gray-600",children:$})]}),q&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700",children:"Cancellation Policy"}),e.jsx("p",{className:"text-gray-600 text-sm",children:q})]}),J&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700",children:"Group Discounts"}),e.jsx("p",{className:"text-gray-600",children:J})]})]})]})]})})]})]})})}catch(_){return console.error("ðŸš¨ TourDetails render error:",_),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50",children:e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸš¨"}),e.jsx("h2",{className:"text-2xl font-bold text-red-700 mb-4",children:"Render Error"}),e.jsxs("p",{className:"text-red-600 mb-6",children:["Failed to render tour details: ",_.message]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Reload Page"})]})})}};export{T as default};
