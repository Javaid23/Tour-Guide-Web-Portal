import{j as e}from"./index-Cu-NLfXN.js";import{r as t}from"./router-Dd4lY5Dn.js";import"./vendor-Z2Iecplj.js";import"./icons-D1SVnQiw.js";function o(){const[o,r]=t.useState(""),[s,n]=t.useState(""),[a,i]=t.useState(!1),[d,l]=t.useState(""),[c,h]=t.useState(!1),g=new URLSearchParams(window.location.search).get("token");return e.jsx("div",{className:"dialog-overlay",style:{minHeight:"100vh",background:"#e6f0ff",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs("div",{className:"dialog-box",style:{background:"white",borderRadius:20,padding:40,maxWidth:400,width:"100%",boxShadow:"0 20px 40px rgba(0,0,0,0.12)",border:"2px solid #3b82f6"},children:[e.jsx("h2",{style:{color:"#2563eb",fontWeight:700,fontSize:28,marginBottom:10},children:"Reset Password"}),e.jsx("p",{style:{color:"#555",marginBottom:24},children:"Enter your new password below."}),a?e.jsx("div",{style:{color:"#2563eb",fontWeight:500,fontSize:16,textAlign:"center"},children:"Your password has been reset! You can now sign in."}):e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),l(""),o.length<8)return l("Password must be at least 8 characters.");if(o!==s)return l("Passwords do not match.");h(!0);try{const e=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:g,password:o})}),t=await e.json();t.success?i(!0):l(t.message||"Something went wrong")}catch(t){l("Server error")}finally{h(!1)}},children:[e.jsxs("div",{style:{marginBottom:18},children:[e.jsx("label",{htmlFor:"password",style:{color:"#2563eb",fontWeight:500,fontSize:15,display:"block",marginBottom:8},children:"New Password"}),e.jsx("input",{id:"password",type:"password",value:o,onChange:e=>r(e.target.value),required:!0,style:{width:"100%",padding:12,border:"2px solid #cbd5e1",borderRadius:10,fontSize:16,background:"#f8f9fa"},placeholder:"Enter new password"})]}),e.jsxs("div",{style:{marginBottom:18},children:[e.jsx("label",{htmlFor:"confirm",style:{color:"#2563eb",fontWeight:500,fontSize:15,display:"block",marginBottom:8},children:"Confirm Password"}),e.jsx("input",{id:"confirm",type:"password",value:s,onChange:e=>n(e.target.value),required:!0,style:{width:"100%",padding:12,border:"2px solid #cbd5e1",borderRadius:10,fontSize:16,background:"#f8f9fa"},placeholder:"Confirm new password"})]}),d&&e.jsx("div",{style:{color:"#dc2626",marginBottom:10},children:d}),e.jsx("button",{type:"submit",disabled:c,style:{width:"100%",padding:14,background:"linear-gradient(135deg, #2563eb 0%, #60a5fa 100%)",color:"white",border:"none",borderRadius:10,fontSize:16,fontWeight:600,cursor:c?"not-allowed":"pointer",marginTop:10},children:c?"Resetting...":"Reset Password"})]})]})})}export{o as default};
